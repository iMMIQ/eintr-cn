<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.3, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is An Introduction to Programming in Emacs Lisp, for
people who are not programmers.


Distributed with Emacs version 29.1.

Copyright Â© 1990-1995, 1997, 2001-2023 Free Software
Foundation, Inc.



Printed copies available from https://shop.fsf.org/. Published by:

GNU Press,                        https://www.fsf.org/licensing/gnu-press/
a division of the                 email: sales@fsf.org
Free Software Foundation, Inc.    Tel: +1 (617) 542-5942
51 Franklin Street, Fifth Floor   Fax: +1 (617) 542-2652
Boston, MA 02110-1301 USA


ISBN 1-882114-43-4

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; there
being no Invariant Section, with the Front-Cover Texts being "A GNU
Manual", and with the Back-Cover Texts as in (a) below.  A copy of
the license is included in the section entitled "GNU Free
Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." -->
<title>print-graph Varlist (Programming in Emacs Lisp)</title>

<meta name="description" content="print-graph Varlist (Programming in Emacs Lisp)">
<meta name="keywords" content="print-graph Varlist (Programming in Emacs Lisp)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Full-Graph.html" rel="up" title="Full Graph">
<link href="print_002dY_002daxis.html" rel="next" title="print-Y-axis">
<link href="Labeled-Example.html" rel="prev" title="Labeled Example">
<style type="text/css">
<!--
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
-->
</style>


</head>

<body lang="en">
<div class="appendixsec-level-extent" id="print_002dgraph-Varlist">
<div class="nav-panel">
<p>
Next: <a href="print_002dY_002daxis.html" accesskey="n" rel="next">The <code class="code">print-Y-axis</code> Function</a>, Previous: <a href="Labeled-Example.html" accesskey="p" rel="prev">Labeled Example Graph</a>, Up: <a href="Full-Graph.html" accesskey="u" rel="up">A Graph with Labeled Axes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="appendixsec" id="The-print_002dgraph-Varlist">C.1 The <code class="code">print-graph</code> Varlist</h3>
<a class="index-entry-id" id="index-print_002dgraph-varlist"></a>

<p>In writing the <code class="code">print-graph</code> function, the first task is to write
the varlist in the <code class="code">let</code> expression.  (We will leave aside for the
moment any thoughts about making the function interactive or about the
contents of its documentation string.)
</p>
<p>The varlist should set several values.  Clearly, the top of the label
for the vertical axis must be at least the height of the graph, which
means that we must obtain this information here.  Note that the
<code class="code">print-graph-body</code> function also requires this information.  There
is no reason to calculate the height of the graph in two different
places, so we should change <code class="code">print-graph-body</code> from the way we
defined it earlier to take advantage of the calculation.
</p>
<p>Similarly, both the function for printing the X axis labels and the
<code class="code">print-graph-body</code> function need to learn the value of the width of
each symbol.  We can perform the calculation here and change the
definition for <code class="code">print-graph-body</code> from the way we defined it in the
previous chapter.
</p>
<p>The length of the label for the horizontal axis must be at least as long
as the graph.  However, this information is used only in the function
that prints the horizontal axis, so it does not need to be calculated here.
</p>
<p>These thoughts lead us directly to the following form for the varlist
in the <code class="code">let</code> for <code class="code">print-graph</code>:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">(let ((height (apply 'max numbers-list)) ; <span class="r">First version.</span>
      (symbol-width (length graph-blank)))
</pre></div></div>

<p>As we shall see, this expression is not quite right.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="print_002dY_002daxis.html">The <code class="code">print-Y-axis</code> Function</a>, Previous: <a href="Labeled-Example.html">Labeled Example Graph</a>, Up: <a href="Full-Graph.html">A Graph with Labeled Axes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
