<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.0.3, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是针对非程序员的 Emacs Lisp 编程简介


随 Emacs 版本 29.1 发行.

Copyright © 1990-1995, 1997, 2001-2023 自由软件基金会.



纸质版本可在 https://shop.fsf.org/ 获得。由以下机构出版：

GNU Press,                        https://www.fsf.org/licensing/gnu-press/
自由软件基金会旗下的一个分部                 电子邮件：sales@fsf.org
Free Software Foundation, Inc.    电话：+1 (617) 542-5942
51 Franklin Street, Fifth Floor   传真：+1 (617) 542-2652
美国马萨诸塞州波士顿，邮编02110-1301


ISBN 1-882114-43-4

允许复制、分发和/或修改本文档，遵循 GNU 自由文档许可证 1.3 版或由自由软件基金会发布的任何以后版本的条款；本文档没有不变章节，封面文本为“GNU 手册”，反面封面文本如 (a) 所示。许可证的副本包含在名为“GNU 自由文档许可证”的章节中。

(a) FSF 的背面封面文本是：“你有自由复制和修改这份 GNU 手册。从 FSF 购买副本支持其开发 GNU 并推广软件自由。” -->
<title>defvar and asterisk (Programming in Emacs Lisp)</title>

<meta name="description" content="defvar and asterisk (Programming in Emacs Lisp)">
<meta name="keywords" content="defvar and asterisk (Programming in Emacs Lisp)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="defvar.html" rel="up" title="defvar">
<link href="See-variable-current-value.html" rel="prev" title="See variable current value">
<style type="text/css">
<!--
div.example {margin-left: 3.2em}
kbd.key {font-style: normal}
span.r {font-family: initial; font-weight: normal; font-style: normal}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/emacs/manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="defvar-and-asterisk">
<div class="nav-panel">
<p>
Previous: <a href="See-variable-current-value.html" accesskey="p" rel="prev">Seeing the Current Value of a Variable</a>, Up: <a href="defvar.html" accesskey="u" rel="up">Initializing a Variable with <code class="code">defvar</code></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="defvar-and-an-asterisk">8.5.1 <code class="code">defvar</code> and an asterisk</h4>
<a class="index-entry-id" id="index-defvar-for-a-user-customizable-variable"></a>
<a class="index-entry-id" id="index-defvar-with-an-asterisk"></a>

<p>In the past, Emacs used the <code class="code">defvar</code> special form both for
internal variables that you would not expect a user to change and for
variables that you do expect a user to change.  Although you can still
use <code class="code">defvar</code> for user customizable variables, please use
<code class="code">defcustom</code> instead, since it provides a path into
the Customization commands.  (See <a class="xref" href="defcustom.html">Specifying Variables
using <code class="code">defcustom</code></a>.)
</p>
<p>When you specified a variable using the <code class="code">defvar</code> special form,
you could distinguish a variable that a user might want to change from
others by typing an asterisk, &lsquo;<samp class="samp">*</samp>&rsquo;, in the first column of its
documentation string.  For example:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">(defvar shell-command-default-error-buffer nil
  &quot;*Buffer name for `shell-command' &hellip; error output.
&hellip; &quot;)
</pre></div></div>

<a class="index-entry-id" id="index-set_002dvariable"></a>
<p>You could (and still can) use the <code class="code">set-variable</code> command to
change the value of <code class="code">shell-command-default-error-buffer</code>
temporarily.  However, options set using <code class="code">set-variable</code> are set
only for the duration of your editing session.  The new values are not
saved between sessions.  Each time Emacs starts, it reads the original
value, unless you change the value within your <samp class="file">.emacs</samp> file,
either by setting it manually or by using <code class="code">customize</code>.
See <a class="xref" href="Emacs-Initialization.html">Your <samp class="file">.emacs</samp> File</a>.
</p>
<p>For me, the major use of the <code class="code">set-variable</code> command is to suggest
variables that I might want to set in my <samp class="file">.emacs</samp> file.  There
are now more than 700 such variables, far too many to remember
readily.  Fortunately, you can press <kbd class="key">TAB</kbd> after calling the
<code class="code">M-x set-variable</code> command to see the list of variables.
(See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Examining.html#Examining">Examining and Setting Variables</a> in <cite class="cite">The GNU Emacs Manual</cite>.)
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="See-variable-current-value.html">Seeing the Current Value of a Variable</a>, Up: <a href="defvar.html">Initializing a Variable with <code class="code">defvar</code></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
